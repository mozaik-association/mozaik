<?xml version='1.0' encoding='UTF-8' ?>
<odoo noupdate="0">

    <record id="change_main_address_wizard" model="ir.ui.view">
        <field name="name">change.main.address.wizard (mozaik_membership)</field>
        <field name="model">change.main.address</field>
        <field name="inherit_id" ref="mozaik_address.change_main_address_wizard" />
        <field name="arch" type="xml">
            <group name="data" position="inside">
                <field name="keep_instance"/>
            </group>

            <xpath expr="//page[1]" position="before">
                <page name="instances" string="Instances" attrs="{'invisible': [('keep_instance', '=', True)]}">
                    <field name="partner_change_instance_ids">
                        <tree editable="bottom" create="0" delete="0">
                            <field name="partner_id" force_save="1"/>
                            <field name="actual_instance_id" force_save="1"/>
                            <field name="origin" invisible="1" force_save="1"/>
                            <field name="close_subscription" attrs="{'invisible': [('origin', '=', 'forced')]}"/>
                            <field name="new_instance_id" attrs="{'invisible': [('close_subscription', '=', True)], 'required': [('close_subscription', '=', False)]}" options="{'no_create_edit': True, 'no_create': True}"/>
                        </tree>
                    </field>
                </page>
            </xpath>
        </field>
    </record>

</odoo>
